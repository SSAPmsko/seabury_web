<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layout/layout}">

<!-- 최신 SpringBoot 에서는 layout:decorate="~{layout/layout}" 으로 사용 -->
<!-- 이전 버전 layout:decorator="~{layout/layout}"> -->

<!-- Begin Page Content -->
<th:block>
    <form id="scenarioPropertyForm"></form>
    <form id="scenarioTabForm"></form>

    <section class="h-100" style="overflow:auto" layout:fragment="content">
        <div class="row container-fluid m-0">
            <!-- Hidden Field-->
            <div class="visually-hidden">
                <input type="text" class="form-control" id="txt_editMode" form="scenarioPropertyForm" th:value="${editMode}">
                <input type="text" class="form-control" id="txt_projectId" form="scenarioPropertyForm" th:value="${projectId}">
                <input type="text" class="form-control" id="txt_scenarioId" form="scenarioPropertyForm" th:value="${id}">
                <input type="text" class="form-control" id="txt_dosimeterInfo" form="scenarioPropertyForm" th:value="${dosimeterInfo}">
                <input type="text" class="form-control" id="txt_workPlanInfo" form="scenarioPropertyForm" th:value="${report.scenarioDetails.workPlanInfo}">
            </div>

            <div class="col-12 d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-0 pt-3 border-bottom">
                <h6 class="h2">Scenario Detail</h6>
                <div class="btn-toolbar">
                    <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base ms-3" type="button" form="scenarioPropertyForm" style="height: 30px" id="btn_scenario_save" disabled>
                        <span class="k-button-icon k-icon k-i-save"></span>
                        <span class="k-button-text">Save</span>
                    </button>

                    <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base ms-3" type="button" form="scenarioPropertyForm" style="height: 30px" id="btn_scenario_delete" disabled>
                        <span class="k-button-icon k-icon k-i-delete"></span>
                        <span class="k-button-text">Delete</span>
                    </button>

                    <!--<a href="#" class="btn btn-primary" onclick="historyBack();">Back</a>-->
                    <!--<a href="#" class="btn btn-primary" onclick="dg_projectSaveExecute();">Save</a>-->
                    <!--<a href="#" class="btn btn-danger mx-3" id="btn_delete" onclick="dg_projectDeleteExecute();">Delete</a>-->
                </div>
            </div>

            <div class="col-12 mt-2">
                <ul class="nav nav-tabs" role="tablist">
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link active" id="scenarioTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#scenarioContent" type="button" role="tab" aria-controls="scenarioContent" aria-selected="false">Scenario</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="workpackTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#workpackContent" type="button" role="tab" aria-controls="workpackContent" aria-selected="false">Workpack</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="equipmentTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#equipmentContent" type="button" role="tab" aria-controls="equipmentContent" aria-selected="false">Equipment</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="workerTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#workerContent" type="button" role="tab" aria-controls="workerContent" aria-selected="false">Worker</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="shieldTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#shieldContent" type="button" role="tab" aria-controls="shieldContent" aria-selected="false">Shield</a>
                    </li>
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="sourceTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#sourceContent" type="button" role="tab" aria-controls="sourceContent" aria-selected="false">Source</a>
                    </li>
                    <!--
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="workPlanTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#workPlanContent" type="button" role="tab" aria-controls="workPlanContent" aria-selected="false">Report</a>
                    </li>
                    -->
                    <li class="nav-item" role="presentation">
                        <a data-load="false" class="nav-link" id="reportTab" form="scenarioTabForm" data-bs-toggle="tab" data-bs-target="#reportContent" type="button" role="tab" aria-controls="reportContent" aria-selected="false">Report</a>
                    </li>
                </ul>

                <div class="tab-content">
                    <div class="tab-pane fade show active" id="scenarioContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="scenarioTab">
                        <div class="row p-0">
                            <div class="col-lg-6 p-2">
                                <fieldset>
                                    <legend>Properties</legend>

                                    <div class="row g-3">
                                        <!-- Name -->
                                        <div class="col-sm-12">
                                            <label for="txt_name" class="form-label">Name</label>
                                            <input type="text" class="form-control" id="txt_name" form="scenarioPropertyForm" th:value="${name}">
                                        </div>

                                        <!-- Description -->
                                        <div class="col-sm-12">
                                            <label for="txt_description" class="form-label">Description</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" id="txt_description" th:value="${description}">
                                        </div>

                                        <!-- Create Date -->
                                        <div class="col-sm-6">
                                            <label for="dt_date" class="form-label">Create Date</label>
                                            <input type="date" class="form-control" form="scenarioPropertyForm" id="dt_date" th:value="${date}">
                                        </div>

                                        <!-- Creator -->
                                        <div class="col-sm-6">
                                            <label for="txt_createdBy" class="form-label">Creator</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" id="txt_createdBy" th:value="${createdBy}">
                                        </div>

                                        <!-- Modify Date -->
                                        <div class="col-sm-6">
                                            <label for="dt_lastModified" class="form-label">Modify Date</label>
                                            <input type="date" class="form-control" id="dt_lastModified" form="scenarioPropertyForm" th:value="${lastModified}">
                                        </div>

                                        <!-- Modifier -->
                                        <div class="col-sm-6">
                                            <label for="txt_modifiedBy" class="form-label">Modifier</label>
                                            <input type="text" class="form-control" id="txt_modifiedBy" form="scenarioPropertyForm" th:value="${modifiedBy}">
                                        </div>

                                        <!-- Status -->
                                        <div class="col-sm-6">
                                            <label for="txt_status" class="form-label">Status</label>
                                            <input type="text" class="form-control" id="txt_status" form="scenarioPropertyForm" th:value="${status}">
                                        </div>

                                        <!-- Start Date -->
                                        <div class="col-sm-6">

                                            <label for="dt_startTime" class="form-label">Start time</label>
                                            <input type="date" id="dt_startTime" class="form-control" form="scenarioPropertyForm" th:value="${startTime}">
                                        </div>

                                        <!-- End Date -->
                                        <div class="col-sm-6">
                                            <label for="dt_endTime" class="form-label">End time</label>
                                            <input type="date" id="dt_endTime" class="form-control" form="scenarioPropertyForm" th:value="${endTime}">
                                        </div>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="col-lg-6 p-2">
                                <fieldset>
                                    <legend>Planner</legend>
                                    <div class="container-lg p-0 text-center bg-light">

                                        <!--<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F9956823F5BD48B4215" class="img-fluid" style="height: 300px;">-->
                                        <!--<img src="/static/img/sample/01.png" class="img-fluid" style="height: 300px;">-->
                                        <iframe src="https://hvrc.ife.no/briefer/public/briefer.html?fsUuid=a762a7ae-23fc-4727-ab32-d9f4972cb727&path=InvisibleDanger-FilterRemoval_v.01.world&position=-12.03%2C15.44%2C15.31&rotation=-39.37%2C-32.76%2C0.00&distance=24.79&frame=975" width="100%" height="500px"></iframe>
                                        <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base ms-3" type="button" form="scenarioPropertyForm" style="height: 30px" id="btn_planner_open">
                                            <span class="k-button-icon k-icon k-i-fullscreen"></span>
                                            <span class="k-button-text">Full Screen</span>
                                        </button>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <legend>File List</legend>

                                    <!-- File Upload -->
                                    <div class="col-sm-12">
                                        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-0 pt-3">
                                            <div></div>
                                            <div class="btn-toolbar">
                                                <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base ms-3" type="button" form="scenarioPropertyForm" style="height: 30px" id="btn_scenario_save2">
                                                    <span class="k-button-icon k-icon k-i-add"></span>
                                                    <span class="k-button-text">Add</span>
                                                </button>

                                                <button class="k-button k-button-md k-rounded-md k-button-solid k-button-solid-base ms-3" type="button" form="scenarioPropertyForm" style="height: 30px" id="btn_scenario_delete2">
                                                    <span class="k-button-icon k-icon k-i-minus"></span>
                                                    <span class="k-button-text">Delete</span>
                                                </button>
                                            </div>
                                        </div>

                                        <div class="" id="dg_scenario_fileList" form="scenarioPropertyForm">

                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                    </div>

                    <div class="tab-pane fade" id="workpackContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="workpackTab">

                        <div id="dg_scenario_workpack" form="scenarioPropertyForm">

                        </div>
                    </div>

                    <div class="tab-pane fade" id="equipmentContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="equipmentTab">
                        <div id="dg_scenario_equipment" form="scenarioPropertyForm">

                        </div>
                    </div>

                    <div class="tab-pane fade" id="workerContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="workerCTab">
                        <div id="dg_scenario_worker" form="scenarioPropertyForm">

                        </div>
                    </div>

                    <div class="tab-pane fade" id="shieldContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="shieldTab">
                        <div id="dg_scenario_shield" form="scenarioPropertyForm">

                        </div>
                    </div>

                    <div class="tab-pane fade" id="sourceContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="sourceTab">
                        <div id="dg_scenario_source" form="scenarioPropertyForm">

                        </div>
                    </div>

                    <div class="tab-pane fade" id="reportContent" form="scenarioTabForm" role="tabpanel" aria-labelledby="reportTab">
                        <div class="row p-0">
                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <legend>Pre-job plan
                                        <br><span class="subtitle">Report Header</span>
                                    </legend>

                                    <div class="row g-3">
                                        <!-- Report type -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Report type:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.reportType}">
                                        </div>

                                        <!-- Project -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Project:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.project}">
                                        </div>

                                        <!-- Scenario -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Scenario:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.scenario}">
                                        </div>

                                        <!-- Status -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Status:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.scenarioStatus}">
                                        </div>

                                        <!-- Start date -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Start date:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.projectStartDate}">
                                        </div>

                                        <!-- End date -->
                                        <div class="col-sm-6">
                                            <label class="form-label">End date:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.projectEndDate}">
                                        </div>

                                        <!-- Radiation Calculator -->
                                        <div class="col-sm-12">
                                            <label class="form-label">Radiation Calculator:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.reportHeader.calculatorInfo}">
                                        </div>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <legend>Job Scope
                                        <br><span class="subtitle">Project Summary</span>
                                    </legend>

                                    <div class="row g-3">
                                        <!-- Description -->
                                        <div class="col-sm-12">
                                            <label class="form-label">Description:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.projectSummary.description}">
                                        </div>

                                        <!-- Justification -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Justification:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.projectSummary.justification}">
                                        </div>

                                        <!-- Dose limit -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Dose limit:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.projectSummary.doseLimit}">
                                        </div>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="subtitle">Scenario Summary</span>
                                    </legend>

                                    <div class="row g-3">
                                        <!-- Location -->
                                        <!--
                                        <div class="col-sm-12">
                                            <label class="form-label">Location:</label>
                                            <input type="text" class="form-control" value="">
                                        </div>
                                        -->

                                        <!-- Start time -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Start time:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.scenarioSummary.startTime}">
                                        </div>

                                        <!-- End time -->
                                        <!-- Report Mapping 데이터가 존재 하지 않음. -->
                                        <div class="col-sm-6">
                                            <label class="form-label">End time:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" value="">
                                        </div>

                                        <!-- Duration -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Duration:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.scenarioSummary.duration}">
                                        </div>

                                        <!-- Risk value -->
                                        <div class="col-sm-6">
                                            <label class="form-label">Risk value:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.scenarioSummary.riskValue}">
                                        </div>

                                        <!-- Description -->
                                        <div class="col-sm-12">
                                            <label class="form-label">Description:</label>
                                            <input type="text" class="form-control" form="scenarioPropertyForm" th:value="${report.scenarioSummary.description}">
                                        </div>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <legend>Work Plan
                                        <br><span class="subtitle">Workers</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="subtitle">Equipment</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="subtitle">Work Steps</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="subtitle">Work Steps Details</span>
                                    </legend>
                                </fieldset>
                            </div>

                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_accumulated_collective_dose" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_workers_dose_rate" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_workers_accumulated_dose" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_maximum_individual_dose_rate" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_minimum_individual_dose_rate" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>

                                <fieldset>
                                    <div class="col-sm-12">
                                        <canvas id="chart_accumulated_collective_dose_per_step" form="scenarioPropertyForm">

                                        </canvas>
                                    </div>
                                </fieldset>
                            </div>

                            <div class="col-lg-12 p-2">
                                <fieldset>
                                    <legend>Radiological Conditions
                                        <br><span class="subtitle">Scenario Start</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Sources</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Shields</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Dose map</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend><span class="subtitle">End Start</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Sources</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Shields</span>
                                    </legend>
                                </fieldset>

                                <fieldset>
                                    <legend>
                                        <span class="detailtitle">Dose map</span>
                                    </legend>
                                </fieldset>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Custom styles for this template -->
        <script src="/static/view/sub/scenario/js/scenarioDetail.js"></script>
        <link href="/static/view/sub/scenario/css/scenarioDetail.css" rel="stylesheet">

        <!-- Chart -->
        <!--
        <script src="/plugin/c3js-0.7.20/js/c3.min.js"></script>
        <link href="/plugin/c3js-0.7.20/css/c3.min.css" rel="stylesheet">
        -->
    </section>
</th:block>
</html>