<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.seabury.web.mapper.projectMapper">
    <select id="getProjectList" resultType="com.seabury.web.entity.projectEntity">
        SELECT * FROM public."Project";
    </select>

    <insert id="insertProject" parameterType="com.seabury.web.entity.projectEntity" useGeneratedKeys="true" keyProperty="ID">
        INSERT INTO public."Project"(
        "Name", "Description", "Creator", "Location", "Start_date", "End_date", "Dose_limit", "Status", "Image", "ReportType", "Job_ID", "Document_ID", "ProducedBy", "RadiationCalculator", "Justification", "Structure_ID")
        VALUES (#{Name}, #{Description}, #{Creator}, #{Location}, #{Start_date}, #{End_date}, #{Dose_limit}, #{Status}, #{Image}, #{ReportType}, #{Job_ID}, #{Document_ID}, #{ProducedBy}, #{RadiationCalculator}, #{Justification}, #{Structure_ID});

        <selectKey keyProperty="id" resultType="int">
            SELECT LAST_INSERT_ID()
        </selectKey>
    </insert>

    <insert id="updateProject" parameterType="com.seabury.web.entity.projectEntity">
        UPDATE public."Project"
        SET "Name"=#{Name}, "Description"=#{Description}, "Creator"=#{Creator}, "Location"=#{Location}, "Start_date"=#{Start_date}, "End_date"=#{End_date}, "Dose_limit"=#{Dose_limit}, "Status"=#{Status}, "ReportType"=#{ReportType}, "Job_ID"=#{Job_ID}, "Document_ID"=#{Document_ID}, "ProducedBy"=#{ProducedBy}, "RadiationCalculator"=#{RadiationCalculator}, "Justification"=#{Justification}, "Structure_ID"=#{Structure_ID}
        WHERE ID=#{ID};
    </insert>

    <delete id="deleteProject" parameterType="com.seabury.web.entity.projectEntity">
        DELETE FROM public."Project"
        WHERE ID=#{ID};
    </delete>
</mapper>